@model EDergi.Domain.Entitites.Magazine


<div class="container mt-5">
    <div class="row g-4">
        <!-- SOL: Kapak ve Temel Bilgiler -->
        <div class="col-md-4">
            <div class="card shadow-sm h-100">
                <img src="@Model.ImageUrl" alt="@Model.Title" class="card-img-top p-3 rounded-4">
                <div class="card-body text-center">
                    <h3 class="text-primary">@Model.Title</h3>
                    <span class="badge bg-secondary">ISSN: @Model.ISSN</span>

                    <!-- Takipçi ve Görüntülenme İstatistikleri -->
                    <div class="d-flex justify-content-center gap-3 mt-3">
                        <div class="text-center">
                            <div class="fw-bold">@(Model.ViewStats?.FavoriteCount ?? 0)</div>
                            <small>Takipçi</small>
                        </div>
                        <div class="text-center">
                            <div class="fw-bold">@(Model.ViewStats?.ViewCount ?? 0)</div>
                            <small>Görüntülenme</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SAĞ: Detaylar ve Hakkında -->
        <div class="col-md-8">
            <div class="row g-4">
                <!-- Üst Bilgiler -->
                <div class="col-12">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <p class="text-muted">@Model.Description</p>
                            <ul class="list-unstyled">
                                <li><b>Başlangıç:</b> @Model.StartDate.ToString("MMMM yyyy")</li>
                                <li><b>Periyot:</b> @Model.Period</li>
                                <li><b>Dil:</b> Türkçe</li>
                                <li><b>Dökümanlar:</b> @string.Join(", ", Model.Documents?.Select(i => i.FileName) ?? new List<string>())</li>
                            </ul>
                            <a href="/MakaleGonder" class="btn btn-primary">Makale Gönder</a>
                        </div>
                    </div>
                </div>

                <!-- HAKKINDA ve SON SAYILAR (YAN YANA) -->
                <div class="col-md-6">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="text-primary">Hakkında</h5>
                            <p>@Model.Description</p> <!-- MagazineCreateDto'daki Description -->

                            <div class="mt-3">
                                <a href="/AmaçVeKapsam" class="d-block py-1">Amaç ve Kapsam</a>
                                <a href="/YazımKuralları" class="d-block py-1">Yazım Kuralları</a>
                                <a href="/Etikİlkeler" class="d-block py-1">Etik İlkeler</a>
                                <a href="/DergiKurulları" class="d-block py-1">Dergi Kurulları</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="text-primary">Son Sayılar</h5>
                            @if (Model.Volumes?.Any() == true)
                            {
                                <ul class="list-unstyled">
                                    @foreach (var volume in Model.Volumes.OrderByDescending(v => v.Year).Take(5))
                                    {
                                        <li>
                                            <a href="/Volume/@volume.Id">@volume.Year - Cilt @volume.Title Sayı @volume.Issues?.Count</a>
                                        </li>
                                    }
                                </ul>
                                <a href="/TumSayilar" class="btn btn-sm btn-outline-primary mt-2">Tüm Sayılar</a>
                            }
                            else
                            {
                                <p>Henüz yayınlanmış sayı bulunmamaktadır.</p>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border-radius: 10px;
        border: none;
        transition: transform 0.2s;
    }

        .card:hover {
            transform: translateY(-3px);
        }

    .badge {
        font-size: 0.8rem;
        padding: 5px 10px;
    }

    a {
        color: #007bff;
        text-decoration: none;
    }

        a:hover {
            text-decoration: underline;
        }
</style>
